

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>1.2</title>
    <link href="index.css" rel="stylesheet" />
</head>
<body style="background-color:black;">



    <div>
        <img id="img_bg" src="http://7xssod.com1.z0.glb.clouddn.com/t_b1.png" style="z-index: 1000; width: 100%; position: absolute; position: absolute; margin-top: 30px;" />
        <img id="ddd" style="background-color:red;width:100px;z-index:1005;position:relative;" src="http://7xssod.com1.z0.glb.clouddn.com/At/IMG_1705.PNG" />
    </div>
    <ul style="color:#fff;">
        <li onclick="changeBG(1)">图1</li>
        <li onclick="changeBG(2)">图2</li>
        <li onclick="changeBG(3)">图3</li>
        <li onclick="changeBG(4)">图4</li>
        <li onclick="changeBG(5)">图5</li>
        <li onclick="changeBG(6)">图6</li>
    </ul>

    <script src="https://cdn.bootcss.com/zepto/1.0rc1/zepto.min.js"></script>
    <script src="https://cdn.bootcss.com/touchjs/0.2.14/touch.min.js"></script>
    <script>
        function changeBG(i) {
            switch (i) {
                case 1:
                    $('#ddd').attr("src", "http://7xssod.com1.z0.glb.clouddn.com/At/IMG_1705.PNG");
                    break;
                case 2:
                    $('#ddd').attr("src", "http://7xssod.com1.z0.glb.clouddn.com/At/IMG_1688.JPG");
                    break;
                case 3:
                    $('#ddd').attr("src", "http://7xssod.com1.z0.glb.clouddn.com/At/IMG_1687.JPG");
                    break;
                case 4:
                    $('#ddd').attr("src", "http://7xssod.com1.z0.glb.clouddn.com/At/IMG_1519.JPG");
                    break;
                case 5:
                    $('#ddd').attr("src", "http://7xssod.com1.z0.glb.clouddn.com/At/IMG_1512.JPG");
                    break;
                case 6:
                    $('#ddd').attr("src", "http://7xssod.com1.z0.glb.clouddn.com/At/IMG_1496.JPG");
                    break;
                default:

            }
        }
        var dx = 0;
        var dy = 0;
        touch.on('#ddd', 'touchstart', function (ev) {
            //if ($("#ddd").hasClass("m-activation")) {
            //    $("#ddd").removeClass("m-activation");
            //} else {
            //    $("#ddd").addClass("m-activation");
            //}
            //console.log("a");
            ev.preventDefault();
        });

        //放大
        touch.on("#ddd", "pinchout", function (ev) {
            var oldwidth = parseFloat($("#ddd").css("width").replace('px', ''));
            $("#ddd").css("width", (oldwidth + 5) + "px");
        });

        //缩小
        touch.on("#ddd", "pinchin", function (ev) {
            var oldwidth = parseFloat($("#ddd").css("width").replace('px', ''));
            $("#ddd").css("width", (oldwidth -5) + "px");
        });

        touch.on('#ddd', "drag", function (ev) {


            //if ($('#ddd').hasClass("m-activation")) {
            var localX = dx + ev.x;
            var localY = dy + ev.y;

            if (localX > 0 && localX < window.innerWidth &&
            localY > 0 && localY < window.innerHeight) {
                //console.log(localX + "," + localY);
                this.style.webkitTransform = 'translate3d(' + localX + "px," + localY + "px,0)";
            }
            //}

            //var oldwidth = parseFloat($("#ddd").css("width").replace('px', ''));
            //console.log($("#ddd").css("width", (oldwidth + 1) + "px"));


        });

        touch.on('#ddd', "dragend", function (ev) {
            dx += ev.x;
            dy += ev.y;
        });
    </script>
</body>
</html>
